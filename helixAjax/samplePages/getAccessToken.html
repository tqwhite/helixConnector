<!DOCTYPE html>
<html lang="en">
<head>
	<META HTTP-EQUIV='Content-Type' CONTENT='text/html; charset=UTF-8'>
	
	<!-- META http-equiv="refresh" content="5;URL=http://somewhere.com" -->
	
	<title>Template Page Title</title>
	
	<script type='text/javascript' src='http://code.jquery.com/jquery-2.1.4.js'></script>
	<!--link rel='stylesheet' type='text/css' href='css/main.css' /-->
	
	<style type='text/css'><!--
		body {
			color:#4B92D1;
			font-family:sans-serif;padding:100px;font-size:200%;line-height:2;
		}
	--></style>
	
</head>
<body>
<div id='status'>Enter a User ID and press Generate</div>
<input name='userId' value='' style='height:40px;width:400px;font-size:100%;'>
<div id='saveButton' style='cursor:pointer;text-align:center;border:1pt solid gray;height:50px;width:150px; background:#f2f2f2; color:#666; border-radius: 10px;'>Generate</div>
	
</body>

<script type='text/javascript'>
	/* <![CDATA[ */
	$(document).ready(function(){


	$('#saveButton').click(function() {

		var outObj = {};

		$('input').each(function(inx, item) {
			var name = $(item).attr('name');
			var value = $(item).val();
			outObj[name] = value;
		});
		
		if (!outObj.userId){
			$('#status').html('you have to enter a userID');
			return;
		}

		$.ajax({
				method: "POST",
				url: "generateToken",
				data: outObj,
				headers:{authorization:"<!userId!> <!authToken!>"}
			})
			.done(function(result) {
			$('body').html("Merge this code into your AJAX header.<br/><textarea style='width:600px;height:100px;'>&nbsp;\n{\nauthorization:&apos;"+result.userId+'&nbsp;'+result.authToken+"&apos;\n}</textarea><br/><br/><a href=''>Make Another</a>");
		})
			.fail(function(data, textStatus) {
				var errorString = "Server Error: " + data.status + " - " + data.statusText + " (" + data.responseText + ")";

				$('body').html(errorString);
			});
	});
	
	
	});
	/* ]]> */
</script>

</html>